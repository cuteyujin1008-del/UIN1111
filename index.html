<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Kakao Share</title>
  <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
  <script>
    Kakao.init("ff9ae14e50059eda1305ea6dc9c4e3cf");

    function sendMsg() {
      const qs = new URLSearchParams(window.location.search);

      // 카톡에 보낼 메시지 (기존 그대로)
      const msg = qs.get("msg") || "메시지가 전달되지 않았습니다.";

      // ⭐️ PDF 링크 (Glide에서 넘겨줄 값)
      // 예: https://cute-brioche-7af4c9.netlify.app/pdfs/전표ID.pdf
      const pdfUrl = qs.get("pdf");

      if (!pdfUrl) {
        alert("PDF 링크가 없습니다.");
        return;
      }

      Kakao.Share.sendDefault({
        objectType: "text",
        text: msg,
        link: {
          mobileWebUrl: pdfUrl,
          webUrl: pdfUrl
        }
      });
    }

    window.onload = sendMsg;
  </script>
</head>
<body>
</body>
</html>
